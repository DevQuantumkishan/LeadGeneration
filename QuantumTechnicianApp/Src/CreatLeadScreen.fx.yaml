CreatLeadScreen As screen:
    OnVisible: |
        =//Set(varshowMenu,!varshowMenu);
        If(IsBlank(IntxtContractNumber),Set(VarContractNumber,false));
        If(IsBlank(IntxtAddress),Set(VarAddress,false));
        If(IsBlank(IntxtBuildingName),Set(VarBuildingName,false));
        If(IsBlank(IntxtZipCode),Set(VarZipcode,false));
        Set(VarLoader,false);
        Set(VarNotification,false);
        Set(VarContractError,false);

    ctnMainCLS As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(237, 237, 237, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Stretch
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =10
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        PaddingLeft: =10
        PaddingRight: =10
        Width: =Parent.Width
        ZIndex: =1

        ctnHeaderCL As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: |-
                =//Parent.Height/13.5
                ///If(Parent.Height<Parent.Width,Parent.Height/6,Parent.Height/18)
                If(Parent.Height<Parent.Width,60,80)
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            PaddingLeft: =10
            PaddingRight: =10
            PaddingTop: =0.00
            Width: =Parent.Width
            X: =0.00
            ZIndex: =1

            iconBackCL As icon.BackArrow:
                Color: =RGBA(0, 0, 0, 1)
                Height: =Parent.Height
                Icon: =Icon.Hamburger
                OnSelect: =Set(varshowMenu,!varshowMenu)
                PaddingBottom: =Parent.Height/3
                PaddingTop: =Parent.Height/3
                Width: =Parent.Height
                X: =18
                Y: =11
                ZIndex: =1

            imgSchindlerLogoCL As image:
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Parent.Height
                Image: ='1x'
                PaddingBottom: =5
                PaddingTop: =0.00
                Width: =If(Parent.Width>Parent.Height,Parent.Width/8,Parent.Width/12)
                X: =0.00
                ZIndex: =2

            lblHeaderCL As label:
                DisplayMode: =DisplayMode.View
                Font: =Font.Arial
                FontWeight: =FontWeight.Bold
                Height: =Parent.Height
                PaddingLeft: =20
                PaddingRight: =5.34
                PaddingTop: =5.34
                Size: |
                    =//21.36
                    If(Parent.Width<500,14,Parent.Width>500,18)
                Text: ="Technician Lead Generation"
                Width: =Parent.Width-imgSchindlerLogoCL.Width-iconBackCL.Width-btnUsernameCL.Width-20
                X: =96.12
                ZIndex: =3

            btnUsernameCL As button:
                BorderColor: =Color.Red
                Color: =RGBA(0, 0, 0, 1)
                DisabledBorderColor: =RGBA(255, 0, 0, 1)
                DisabledColor: =RGBA(0, 0, 0, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(0, 0, 0, 0)
                Font: =Font.Arial
                Height: =If(Parent.Width<500,Parent.Height/1.8,Parent.Height/1.6)
                RadiusBottomLeft: =50
                RadiusBottomRight: =50
                RadiusTopLeft: =50
                RadiusTopRight: =50
                Size: =If(Parent.Width<500,11,Parent.Width>500,12,12)
                Text: |-
                    =Left(User().FullName, 1) &
                    Mid(
                        User().FullName,
                        Find(" ", User().FullName) + 1,
                        1)
                Width: =If(Parent.Width<500,Parent.Height/1.8,Parent.Height/1.6)
                ZIndex: =4

        ctnUserHeaderCL As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: |-
                =//Parent.Height/14
                If(Parent.Height<Parent.Width,Parent.Height/10,Parent.Height/16)
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            PaddingRight: =0.00
            PaddingTop: =0.00
            Width: =Parent.Width-40
            X: =21.36
            Y: =ctnHeaderCL.Y+ctnHeaderCL.Height+10
            ZIndex: =2

            btnheaderCL As button:
                Color: =RGBA(0, 0, 0, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(255, 255, 255, 1)
                Font: =Font.Arial
                Height: =Parent.Height
                PaddingBottom: =0
                PaddingLeft: =20
                PaddingRight: =20
                PaddingTop: =0
                Size: =If(Parent.Width<500,16,Parent.Width>500,20,18)
                Text: ="Create New Lead"
                Width: =Parent.Width
                ZIndex: =1

        ctnLeadCL As groupContainer.verticalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =Parent.Height-ctnHeaderCL.Height-ctnUserHeaderCL.Height-30
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowY: =LayoutOverflow.Scroll
            Width: =Parent.Width
            ZIndex: =3

            ctnProgressBarCreatLead As groupContainer.manualLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                FillPortions: =0
                Height: =130
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                Width: =Parent.Width
                X: =87
                Y: =77
                ZIndex: =1

                IconLine1CL As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    DisabledColor: =RGBA(202, 202, 202, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(202, 202, 202, 1)
                    Height: =imgStep1CL.Height/4
                    Icon: =Icon.HorizontalLine
                    Width: |-
                        =//If(Parent.Width<440,40,Parent.Width<500,55,70)
                        If(Parent.Width<378,Parent.Width/8,Parent.Width<500,Parent.Width/8,Parent.Width/6)
                    X: =imgStep1CL.X+imgStep1CL.Width
                    Y: =If(Parent.Height>Parent.Width,(Parent.Height-Self.Height)/5.5,(Parent.Height-Self.Height)/3.2)
                    ZIndex: =8

                IconLine2CL As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    DisabledColor: =RGBA(202, 202, 202, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(202, 202, 202, 1)
                    Height: =imgStep1CL.Height/4
                    Icon: =Icon.HorizontalLine
                    Width: |-
                        =//If(Parent.Width<440,40,Parent.Width<500,55,70)
                        If(Parent.Width<378,Parent.Width/8,Parent.Width<500,Parent.Width/8,Parent.Width/6)
                    X: =imgStep2CL.X+imgStep2CL.Width
                    Y: =If(Parent.Height>Parent.Width,(Parent.Height-Self.Height)/5.5,(Parent.Height-Self.Height)/3.2)
                    ZIndex: =9

                IconLine3CL As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    DisabledColor: =RGBA(202, 202, 202, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(202, 202, 202, 1)
                    Height: =imgStep1CL.Height/4
                    Icon: =Icon.HorizontalLine
                    Width: |-
                        =//If(Parent.Width<440,40,Parent.Width<500,55,70)
                        If(Parent.Width<378,Parent.Width/8,Parent.Width<500,Parent.Width/8,Parent.Width/6)
                    X: =imgStep3CL.X+imgStep3CL.Width
                    Y: =If(Parent.Height>Parent.Width,(Parent.Height-Self.Height)/5.5,(Parent.Height-Self.Height)/3.2)
                    ZIndex: =10

                IconLine4CL As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    DisabledColor: =RGBA(202, 202, 202, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =RGBA(202, 202, 202, 1)
                    Height: =imgStep1CL.Height/4
                    Icon: =Icon.HorizontalLine
                    Width: |-
                        =//If(Parent.Width<440,40,Parent.Width<500,55,70)
                        If(Parent.Width<378,Parent.Width/8,Parent.Width<500,Parent.Width/8,Parent.Width/6)
                    X: =img4StepCL.X+img4StepCL.Width
                    Y: =If(Parent.Height>Parent.Width,(Parent.Height-Self.Height)/5.5,(Parent.Height-Self.Height)/3.2)
                    ZIndex: =11

                lblStep1CL As label:
                    Color: =RGBA(116, 116, 116, 1)
                    Font: =Font.Arial
                    Height: =Parent.Height/5
                    PaddingLeft: =0
                    PaddingRight: =0
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Text: ="Step 1"
                    Width: =Parent.Width/5
                    X: |-
                        =//If(Parent.Width<378,Parent.Width/8,Parent.Width<500,Parent.Width/7,Parent.Width/4)
                        imgStep1CL.X-imgStep1CL.Width/3
                    Y: =imgStep1CL.Y+imgStep1CL.Height+20
                    ZIndex: =12

                lblStep2CL As label:
                    Color: =RGBA(116, 116, 116, 1)
                    Font: =Font.Arial
                    Height: =Parent.Height/5
                    PaddingLeft: =0
                    PaddingRight: =0
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Text: ="Step 2"
                    Width: =Parent.Width/5
                    X: =imgStep2CL.X-imgStep2CL.Width/3
                    Y: =imgStep1CL.Y+imgStep1CL.Height+20
                    ZIndex: =13

                lblStep3CL As label:
                    Color: =RGBA(116, 116, 116, 1)
                    Font: =Font.Arial
                    Height: =Parent.Height/5
                    PaddingLeft: =0
                    PaddingRight: =0
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Text: ="Step 3"
                    Width: =Parent.Width/5
                    X: =imgStep3CL.X-imgStep3CL.Width/3
                    Y: =imgStep1CL.Y+imgStep1CL.Height+20
                    ZIndex: =14

                lblSteo4CL As label:
                    Color: =RGBA(116, 116, 116, 1)
                    Font: =Font.Arial
                    Height: =Parent.Height/5
                    PaddingLeft: =0
                    PaddingRight: =0
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Text: ="Step 4"
                    Width: =Parent.Width/5
                    X: =img4StepCL.X-img4StepCL.Width/3
                    Y: =imgStep1CL.Y+imgStep1CL.Height+20
                    ZIndex: =15

                lblStep5CL As label:
                    Color: =RGBA(116, 116, 116, 1)
                    Font: =Font.Arial
                    Height: =Parent.Height/5
                    PaddingLeft: =0
                    PaddingRight: =0
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Text: ="Step 5"
                    Width: =Parent.Width/5
                    X: =imgStep5CL.X-imgStep5CL.Width/3
                    Y: =imgStep1CL.Y+imgStep1CL.Height+20
                    ZIndex: =16

                imgStep1CL As image:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(202, 202, 202, 1)
                    DisabledFill: =RGBA(255, 255, 255, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: =If(VarIndicator=true,Color.Green,Color.White)
                    Height: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    Image: =If(VarIndicator=true,'Check_green_icon.svg')
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    Width: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    X: =If(Parent.Width<378,Parent.Width/9,Parent.Width<500,Parent.Width/10,Parent.Width/11)
                    Y: =(Parent.Height-Self.Height)/3.5
                    ZIndex: =20

                imgStep2CL As image:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(202, 202, 202, 1)
                    DisabledFill: =RGBA(255, 255, 255, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: |-
                        =//Color.Red
                        Color.White
                    Height: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    Image: =
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    Width: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    X: =IconLine1CL.X+IconLine1CL.Width
                    Y: =(Parent.Height-Self.Height)/3.5
                    ZIndex: =21

                imgStep3CL As image:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(202, 202, 202, 1)
                    DisabledFill: =RGBA(255, 255, 255, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: |-
                        =//Color.Red
                        Color.White
                    Height: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    Image: =
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    Width: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    X: =IconLine2CL.X+IconLine2CL.Width
                    Y: =(Parent.Height-Self.Height)/3.5
                    ZIndex: =22

                img4StepCL As image:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(202, 202, 202, 1)
                    DisabledFill: =RGBA(255, 255, 255, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: |-
                        =//Color.Red
                        Color.White
                    Height: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    Image: =
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    Width: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    X: =IconLine3CL.X+IconLine3CL.Width
                    Y: =(Parent.Height-Self.Height)/3.5
                    ZIndex: =23

                imgStep5CL As image:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderThickness: =1
                    DisabledBorderColor: =RGBA(202, 202, 202, 1)
                    DisabledFill: =RGBA(255, 255, 255, 1)
                    DisplayMode: =DisplayMode.Disabled
                    Fill: |-
                        =//Color.Red
                        Color.White
                    Height: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    Image: =
                    RadiusBottomLeft: =50
                    RadiusBottomRight: =50
                    RadiusTopLeft: =50
                    RadiusTopRight: =50
                    Width: =If(Parent.Width<378,Parent.Width/16,Parent.Width<500,Parent.Width/18,Parent.Width/28)
                    X: =IconLine4CL.X+IconLine4CL.Width
                    Y: =(Parent.Height-Self.Height)/3.5
                    ZIndex: =24

            htmltxtRequiredCL As htmlViewer:
                AlignInContainer: =AlignInContainer.Stretch
                Font: =Font.Arial
                Height: =60
                HtmlText: ="<b><font color=red>*</font></b> indicates a required field."
                PaddingLeft: =40
                PaddingTop: =20
                Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                Width: =Parent.Width
                ZIndex: =2

            BuildingInfoForm As form:
                AlignInContainer: =AlignInContainer.SetByContainer
                DataSource: =LeadInformations
                FillPortions: =0
                Height: =If(Parent.Width>375,(BuildingName.Height+Address.Height+ContractNumber.Height+ZipCode.Height+50),(BuildingName.Height+Address.Height+ContractNumber.Height+ZipCode.Height+40))
                Item: =VarFormMode
                LayoutMinHeight: =300
                LayoutMinWidth: =400
                Width: =Parent.Width/1.04
                Y: =143
                ZIndex: =3

                ContractNumber As typedDataCard.textualEditCard:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderStyle: =BorderStyle.Solid
                    BorderThickness: =0
                    DataField: ="crd59_contractnumber"
                    Default: =ThisItem.'ContractNumber '
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@LeadInformations],DataSourceInfo.DisplayName,"shlrf_contractnumber")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =100
                    MaxLength: =DataSourceInfo([@LeadInformations], DataSourceInfo.MaxLength, "shlrf_contractnumber")
                    Required: =false
                    Update: =IntxtContractNumber.Text
                    Width: =Parent.Width
                    X: =0
                    Y: =0
                    ZIndex: =1

                    IntxtContractNumber As text:
                        BorderColor: =If(IsBlank(Parent.Error), Color.LightGray, Color.Red)
                        Color: =Color.Black
                        Default: =Parent.Default
                        DelayOutput: =true
                        DisabledBorderColor: =RGBA(149, 149, 149, 1)
                        DisplayMode: =Parent.DisplayMode
                        FocusedBorderThickness: =2
                        Font: =Font.Arial
                        Format: =TextFormat.Number
                        Height: =50
                        HintText: ="Contract Number"
                        HoverBorderColor: =RGBA(202, 202, 202, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        MaxLength: =Parent.MaxLength
                        OnChange: =Set(VarContractNumber,true);
                        PaddingBottom: =0
                        PaddingLeft: =5
                        PaddingRight: =50
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Reset: =true
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Tooltip: ="Contract Number"
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =lblContractNumber.Y + lblContractNumber.Height+2
                        ZIndex: =1

                    ErrorMessageContractNumber As label:
                        AutoHeight: =true
                        Color: =RGBA(255, 0, 0, 1)
                        Height: =0
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: ="Contract number is not found"
                        Visible: |-
                            =//If(LookUp(SHContracts,CONTR_NUM=Value(
                              //  IntxtContractNumber.Text)).CONTR_NUM<>Value(IntxtContractNumber.Text),true,false)
                              false
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =IntxtContractNumber.Y + IntxtContractNumber.Height
                        ZIndex: =2

                    StarVisibleContractNumber As label:
                        Align: =Align.Center
                        Color: =RGBA(255, 0, 0, 1)
                        Height: =IntxtContractNumber.Height
                        Size: =21
                        Text: ="*"
                        Visible: |-
                            =//If(LookUp(SHContracts,CONTR_NUM=Value(
                              //  IntxtContractNumber.Text)).CONTR_NUM<>Value(IntxtContractNumber.Text),true,false)
                              true
                        Width: =30
                        Wrap: =false
                        Y: =lblContractNumber.Y
                        ZIndex: =3

                    lblContractNumber As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(255, 255, 255, 1)
                        Font: =Font.Arial
                        Height: =If(VarContractNumber,30,0)
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Text: ="Contract Number"
                        Visible: =VarContractNumber || !IsBlank(IntxtContractNumber)
                        Width: =Parent.Width - 50
                        Wrap: =false
                        X: =28
                        Y: =10
                        ZIndex: =4

                    iconSearchContractNumber As icon.Search:
                        BorderColor: =If(IsBlank(Parent.Error), Color.LightGray, Color.Red)
                        BorderThickness: =1
                        Color: |-
                            =If(LookUp(SHContractDetails,CONTR_NUM=
                                IntxtContractNumber.Text).CONTR_NUM<>IntxtContractNumber.Text ,Color.DimGrey,Color.Black)
                        Height: =IntxtContractNumber.Height
                        Icon: =Icon.Search
                        OnSelect: |
                            =Set(
                                    VarLoader,
                                    true
                                );
                            Set(
                                VarcontractRecord,
                                LookUp(
                                    SHContractDetails,Contr_dist=VarTechnicianID.District &&
                                    CONTR_NUM = IntxtContractNumber.Text 
                                )
                            );
                            If(
                                !IsBlank(VarcontractRecord),
                                Set(
                                    VarLoader,
                                    false
                                );,
                                 Set(
                                    VarLoader,
                                    false
                                );,
                                Set(
                                    VarContractError,
                                    true
                                );
                               
                                
                            );
                        PaddingBottom: =5
                        PaddingLeft: =5
                        PaddingRight: =5
                        PaddingTop: =5
                        Width: =IntxtContractNumber.Width/12
                        X: =IntxtContractNumber.Width-Self.Width+30
                        Y: =IntxtContractNumber.Y
                        ZIndex: =5

                ZipCode As typedDataCard.textualEditCard:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="crd59_pincode"
                    Default: =ThisItem.'ZipCode '
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@LeadInformations],DataSourceInfo.DisplayName,"shlrf_zipcode")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =100
                    MaxLength: =DataSourceInfo([@LeadInformations], DataSourceInfo.MaxLength, "shlrf_zipcode")
                    Required: =false
                    Update: =IntxtZipCode.Text
                    Width: =Parent.Width
                    X: =0
                    Y: =3
                    ZIndex: =1

                    IntxtZipCode As text:
                        BorderColor: =If(IsBlank(Parent.Error), Color.LightGray, Color.Red)
                        Default: |-
                            =//Parent.Default
                            //LookUp(SHContractDetails,CONTR_NUM=IntxtContractNumber.Text,CUST_ZIP)
                            VarcontractRecord.CUST_ZIP
                        DelayOutput: =true
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisplayMode: |-
                            =//Parent.DisplayMode
                            DisplayMode.Disabled
                        FocusedBorderThickness: =2
                        Height: =50
                        HintText: ="Zipcode"
                        HoverBorderColor: =RGBA(202, 202, 202, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        MaxLength: =Parent.MaxLength
                        OnChange: =Set(VarZipcode,true)
                        PaddingBottom: =0
                        PaddingLeft: =5
                        PaddingTop: =0
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =lblZipcode.Y + lblZipcode.Height +2
                        ZIndex: =1

                    ErrorMessageZipcode As label:
                        AutoHeight: =true
                        Height: =0
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =IntxtZipCode.Y + IntxtZipCode.Height
                        ZIndex: =2

                    StarVisibleZipcode As label:
                        Align: =Align.Center
                        Height: =lblZipcode.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =lblZipcode.Y
                        ZIndex: =3

                    lblZipcode As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(255, 255, 255, 1)
                        Font: =Font.Arial
                        Height: =If(VarZipcode,30,0)
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Text: =Parent.DisplayName
                        Visible: =VarZipcode || !IsBlank(IntxtZipCode)
                        Width: =Parent.Width - 50
                        Wrap: =false
                        X: =28
                        Y: =10
                        ZIndex: =4

                BuildingName As typedDataCard.textualEditCard:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="crd59_name"
                    Default: =ThisItem.'BuildingName '
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@LeadInformations],DataSourceInfo.DisplayName,"shlrf_buildingname")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =100
                    MaxLength: =DataSourceInfo([@LeadInformations], DataSourceInfo.MaxLength,"shlrf_buildingname")
                    Required: =false
                    Update: =IntxtBuildingName.Text
                    Width: |
                        =Parent.Width
                    X: =0
                    Y: =1
                    ZIndex: =2

                    IntxtBuildingName As text:
                        BorderColor: =If(IsBlank(Parent.Error), Color.LightGray, Color.Red)
                        Default: |-
                            =//Parent.Default
                            //LookUp(SHContractDetails,CONTR_NUM=IntxtContractNumber.Text,CUST_CITY)
                            VarcontractRecord.CUST_CITY
                        DelayOutput: =true
                        DisabledBorderColor: =RGBA(149, 149, 149, 1)
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisplayMode: =DisplayMode.Disabled
                        FocusedBorderThickness: =2
                        Font: =Font.Arial
                        Height: =50
                        HintText: ="Building Name"
                        HoverBorderColor: =RGBA(166, 166, 166, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        MaxLength: =Parent.MaxLength
                        OnChange: =Set(VarBuildingName,true)
                        PaddingBottom: =0
                        PaddingLeft: =5
                        PaddingTop: =0
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =lblBuildingName.Y + lblBuildingName.Height+2
                        ZIndex: =1

                    ErrorMessageBuilldingName As label:
                        AutoHeight: =true
                        Color: =RGBA(255, 0, 0, 1)
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =If(VarContractNumber,48,0)
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =12
                        Text: ="Contract Number is mandetory"
                        Visible: |-
                            =//IsBlankOrError(IntxtContractNumber.Text)
                            false
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =IntxtBuildingName.Y + IntxtBuildingName.Height
                        ZIndex: =2

                    StarVisibleBuildingName As label:
                        Align: =Align.Center
                        Color: =RGBA(255, 0, 0, 1)
                        Font: =Font.Arial
                        Height: =lblBuildingName.Height
                        Size: =21
                        Text: ="*"
                        Visible: |-
                            =//IsBlankOrError(IntxtContractNumber.Text)
                            false
                        Width: =30
                        Wrap: =false
                        Y: =lblBuildingName.Y
                        ZIndex: =3

                    lblBuildingName As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(255, 255, 255, 1)
                        Font: =Font.Arial
                        Height: =If(VarBuildingName,30,0)
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Text: |-
                            =//Parent.DisplayName
                            "Building Name"
                        Visible: =VarBuildingName || !IsBlank(IntxtBuildingName)
                        Width: =Parent.Width - 50
                        Wrap: =false
                        X: =28
                        Y: =10
                        ZIndex: =4

                Address As typedDataCard.textualEditCard:
                    BorderColor: =RGBA(202, 202, 202, 1)
                    BorderStyle: =BorderStyle.Solid
                    DataField: ="crd59_address"
                    Default: =ThisItem.Address
                    DisplayMode: =Parent.DisplayMode
                    DisplayName: =DataSourceInfo([@LeadInformations],DataSourceInfo.DisplayName,"shlrf_address")
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =100
                    MaxLength: =DataSourceInfo([@LeadInformations], DataSourceInfo.MaxLength,"shlrf_address")
                    Required: =false
                    Update: =IntxtAddress.Text
                    Width: =Parent.Width
                    X: =0
                    Y: =2
                    ZIndex: =2

                    IntxtAddress As text:
                        BorderColor: =If(IsBlank(Parent.Error),Color.LightGray, Color.Red)
                        Default: |-
                            =//Parent.Default
                            //LookUp(SHContractDetails,CONTR_NUM=IntxtContractNumber.Text,CUST_ADDR)
                            VarcontractRecord.CUST_ADDR
                        DelayOutput: =true
                        DisabledColor: =RGBA(0, 0, 0, 1)
                        DisplayMode: =DisplayMode.Disabled
                        FocusedBorderThickness: =2
                        Font: =Font.Arial
                        Height: =80
                        HintText: ="Address"
                        HoverBorderColor: =RGBA(202, 202, 202, 1)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        MaxLength: =Parent.MaxLength
                        Mode: =TextMode.MultiLine
                        OnChange: =Set(VarAddress,true);
                        PaddingBottom: =0
                        PaddingLeft: =5
                        PaddingTop: =15
                        RadiusBottomLeft: =0
                        RadiusBottomRight: =0
                        RadiusTopLeft: =0
                        RadiusTopRight: =0
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Tooltip: =Parent.DisplayName
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =lblAddress.Y + lblAddress.Height +2
                        ZIndex: =1

                    ErrorMessageAddress As label:
                        AutoHeight: =true
                        Height: =0
                        Live: =Live.Assertive
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =24
                        Text: =Parent.Error
                        Visible: =Parent.DisplayMode=DisplayMode.Edit
                        Width: =Parent.Width - 60
                        X: =30
                        Y: =IntxtAddress.Y + IntxtAddress.Height
                        ZIndex: =2

                    StarVisibleAddress As label:
                        Align: =Align.Center
                        Height: =lblAddress.Height
                        Size: =21
                        Text: ="*"
                        Visible: =And(Parent.Required, Parent.DisplayMode=DisplayMode.Edit)
                        Width: =30
                        Wrap: =false
                        Y: =lblAddress.Y
                        ZIndex: =3

                    lblAddress As label:
                        AutoHeight: =true
                        Color: =RGBA(0, 0, 0, 1)
                        Fill: =RGBA(255, 255, 255, 1)
                        Font: =Font.Arial
                        Height: =If(VarAddress,30,0)
                        Size: =If(Parent.Width<358,12,Parent.Width>358,14,16)
                        Text: =Parent.DisplayName
                        Visible: =VarAddress || !IsBlank(IntxtAddress)
                        Width: =Parent.Width - 50
                        Wrap: =false
                        X: =28
                        Y: =10
                        ZIndex: =4

            ctnbuttonCLS As groupContainer.horizontalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                FillPortions: =0
                Height: =80
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =20
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =Parent.Width
                Y: =UnitInfoForm.Y+UnitInfoForm.Height
                ZIndex: =4

                ctnPreviousCLS As button:
                    BorderColor: =ColorFade(Self.Color, -15%)
                    Color: =RGBA(255, 0, 0, 1)
                    Fill: =RGBA(255, 255, 255, 1)
                    Font: =Font.Arial
                    HoverFill: =Color.Red
                    OnSelect: |
                        =Navigate(DashboardScreen);
                        Set(VarIndicator,false);
                    Size: =If(Parent.Width<358,12,Parent.Width>358,14)
                    Text: ="Back"
                    Width: =If(Parent.Width<Parent.Height,Parent.Width/8,Parent.Width/5)
                    X: =172
                    Y: =692
                    ZIndex: =1

                ctnNextCLS As button:
                    Fill: =RGBA(255, 0, 0, 1)
                    Font: =Font.Arial
                    HoverFill: =Color.Red
                    OnSelect: |-
                        =If(
                            LookUp(
                                SHContractDetails,
                                CONTR_NUM = IntxtContractNumber.Text
                            ).CONTR_NUM <> IntxtContractNumber.Text || IsBlank(IntxtContractNumber.Text),
                            Set(
                                VarNotification,
                                true
                            );
                            ,
                            Set(
                                VarIndicatorUS,
                                true
                            );
                            Set(
                                VarIndicator,
                                true
                            );
                            Navigate(UnitScreen)
                        )
                    Size: =If(Parent.Width<358,12,Parent.Width>358,14)
                    Text: ="Next"
                    Width: =If(Parent.Width<Parent.Height,Parent.Width/8,Parent.Width/5)
                    X: =145
                    Y: =692
                    ZIndex: =2

            ctnForSpaceCL As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                Height: =Parent.Height-ctnProgressBarCreatLead.Height-ctnbuttonCLS.Height-BuildingInfoForm.Height
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =0
                RadiusBottomRight: =0
                RadiusTopLeft: =0
                RadiusTopRight: =0
                Width: =Parent.Width
                ZIndex: =5

                imgLogoCL As image:
                    DisplayMode: =DisplayMode.View
                    Fill: =RGBA(255, 255, 255, 1)
                    Height: =Parent.Height
                    Image: ='3x'
                    Transparency: =0.9
                    Width: =Parent.Width
                    ZIndex: =1

    PopopContracterrorNextSS As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.29)
        Height: =Parent.Height
        Visible: =VarNotification
        Width: =Parent.Width
        ZIndex: =4

        borderContractErrorCS As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(Parent.Height<500,Parent.Height/1.5,Parent.Height/3)
            Width: =If(Parent.Width<1000,Parent.Width/1.2,Parent.Width/2)
            X: =(Parent.Width-Self.Width)/2
            Y: =(Parent.Height-Self.Height)/2
            ZIndex: =1

        ctnContractErrorCS As groupContainer.verticalAutoLayoutContainer:
            BorderThickness: =1
            Height: =borderContractErrorCS.Height
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMode: =LayoutMode.Auto
            Width: =borderContractErrorCS.Width
            X: =borderContractErrorCS.X
            Y: =borderContractErrorCS.Y
            ZIndex: =2

            ctnContractErrorImageCS As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                FillPortions: =0
                Height: =Parent.Height/3
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Width: =Parent.Width
                ZIndex: =1

                imgErrorContractImageCS As image:
                    Height: =Parent.Height
                    Image: =error
                    PaddingTop: =40
                    Width: =Parent.Width
                    ZIndex: =1

            lblMandatoryCS As label:
                Align: =Align.Center
                Font: =Font.Arial
                FontWeight: =FontWeight.Semibold
                Height: =100
                Size: =14
                Text: ="Contract Number is mandatory"
                Width: =Parent.Width
                ZIndex: =2

            btnOKPopupCS As button:
                AlignInContainer: =AlignInContainer.Center
                Fill: =RGBA(255, 0, 0, 1)
                Font: =Font.Arial
                HoverFill: =ColorFade(Self.Fill, -20%)
                OnSelect: |-
                    =Navigate(CreatLeadScreen);
                    Set(VarNotification,false);
                Size: =14
                Text: ="Ok"
                Width: =Parent.Width/5
                ZIndex: =3

    PopopContracterrorCS As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.29)
        Height: =Parent.Height
        Visible: =VarContractError 
        Width: =Parent.Width
        ZIndex: =5

        borderErrorpopupCS As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(Parent.Height<500,Parent.Height/1.5,Parent.Height/3)
            Width: =If(Parent.Width<1000,Parent.Width/1.2,Parent.Width/2)
            X: =(Parent.Width-Self.Width)/2
            Y: =(Parent.Height-Self.Height)/2
            ZIndex: =1

        ctnErrorCS As groupContainer.verticalAutoLayoutContainer:
            BorderThickness: =1
            Height: =borderErrorpopupCS.Height
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMode: =LayoutMode.Auto
            Width: =borderErrorpopupCS.Width
            X: =borderErrorpopupCS.X
            Y: =borderErrorpopupCS.Y
            ZIndex: =2

            ctnErrorPopupCS As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                FillPortions: =0
                Height: =Parent.Height/3
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Width: =Parent.Width
                ZIndex: =1

                imgErrorPopupCS As image:
                    Height: =Parent.Height
                    Image: =    error
                    PaddingTop: =40
                    Width: =Parent.Width
                    ZIndex: =1

            lblErrorPopuoCS As label:
                Align: =Align.Center
                Font: =Font.Arial
                FontWeight: =FontWeight.Semibold
                Height: =100
                Size: =14
                Text: |-
                    =
                        "Contract number is not found in your district, Please try again."
                Width: =Parent.Width
                ZIndex: =2

            btnOkErrorPopupCS As button:
                AlignInContainer: =AlignInContainer.Center
                Fill: =RGBA(255, 0, 0, 1)
                Font: =Font.Arial
                HoverFill: =ColorFade(Self.Fill, -20%)
                OnSelect: |-
                    =
                    Set(VarContractError,false);
                    Navigate(CreatLeadScreen);
                Size: =14
                Text: ="Ok"
                Width: =Parent.Width/5
                ZIndex: =3

    PopoploaderCS As groupContainer.manualLayoutContainer:
        Fill: =RGBA(0, 0, 0, 0.29)
        Height: =Parent.Height
        Visible: =VarLoader 
        Width: =Parent.Width
        ZIndex: =6

        borderLoaderPopuoCS As rectangle:
            Fill: =RGBA(255, 255, 255, 1)
            Height: =If(Parent.Height<500,Parent.Height/1.5,Parent.Height/3)
            Width: =If(Parent.Width<1000,Parent.Width/1.2,Parent.Width/2)
            X: =(Parent.Width-Self.Width)/2
            Y: =(Parent.Height-Self.Height)/2
            ZIndex: =1

        ctnLoaderCS As groupContainer.verticalAutoLayoutContainer:
            BorderThickness: =1
            Height: =borderLoaderPopuoCS.Height
            LayoutDirection: =LayoutDirection.Vertical
            LayoutMode: =LayoutMode.Auto
            Width: =borderLoaderPopuoCS.Width
            X: =borderLoaderPopuoCS.X
            Y: =borderLoaderPopuoCS.Y
            ZIndex: =2

            ctnLoaderPopupCS As groupContainer.verticalAutoLayoutContainer:
                AlignInContainer: =AlignInContainer.SetByContainer
                DropShadow: =DropShadow.None
                FillPortions: =0
                Height: =Parent.Height/3
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                Width: =Parent.Width
                ZIndex: =1

                imgLoaderPopupCS As image:
                    Height: =Parent.Height
                    Image: |
                        =    'waiting-icon-gif-4'
                    PaddingTop: =40
                    Width: =Parent.Width
                    ZIndex: =1

            lblLoaderPopupCS As label:
                Align: =Align.Center
                Font: =Font.Arial
                FontWeight: =FontWeight.Semibold
                Height: =100
                Size: =14
                Text: |
                    =
                        "Getting contract record. Please wait."
                Width: =Parent.Width
                ZIndex: =2

            btnOkPopupCS As button:
                AlignInContainer: =AlignInContainer.Center
                Fill: =RGBA(255, 0, 0, 1)
                Font: =Font.Arial
                HoverFill: =ColorFade(Self.Fill, -20%)
                OnSelect: |-
                    =
                    Set(VarLoader,false);
                    Navigate(CreatLeadScreen);
                Size: =14
                Text: ="Ok"
                Visible: =false
                Width: =Parent.Width/5
                ZIndex: =3

    grpMenuCLS As group:
        Height: =5
        Width: =5
        X: =40
        Y: =80
        ZIndex: =9

        ctnBackgroundMenuCLS As groupContainer.manualLayoutContainer:
            Fill: =RGBA(0, 0.19, 0.19, 0.19)
            Height: =Parent.Height-ctnHeaderDS.Height
            Visible: =varshowMenu
            Width: =Parent.Width
            Y: =ctnHeaderDS.Y+ctnHeaderDS.Height
            ZIndex: =7

        "glryMenuBarCLS As gallery.'BrowseLayout_Vertical_OneTextOneImageVariant_ver4.0'":
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderThickness: =1
            Fill: =RGBA(237, 237, 237, 1)
            Height: =1.08*(CountRows(glryMenuBarCLS.AllItems)*(glryMenuBarCLS.TemplateHeight))
            Items: =Menu
            Layout: =Layout.Vertical
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =90
            Visible: =varshowMenu
            Width: =Parent.Width/4
            X: =10
            Y: =ctnHeaderDS.Y+ctnHeaderDS.Height
            ZIndex: =8

            ctnMenuCLS As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =80
                Width: =Parent.Width/1.02
                ZIndex: =8

                lblMenuCLS As label:
                    AutoHeight: =true
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =24
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<500,10,12)
                    Text: =ThisItem.Title
                    Width: =Parent.Width-iconMenuCLS.Width-lineIndicatorCLS.Width
                    X: =45.83006535947712
                    Y: =30
                    ZIndex: =1

                iconMenuCLS As icon.Add:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =Parent.Height/4.5
                    Icon: =ThisItem.icon
                    Width: =Parent.Width/4.5
                    X: =12
                    Y: =30
                    ZIndex: =3

                btnMensuCLS As button:
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =80
                    HoverFill: =
                    OnSelect: |+
                        =Set(varshowMenu,!varshowMenu);Navigate(ThisItem.Navigate);
                        
                    PressedFill: =
                    Size: =24
                    Text: =""
                    Width: =Parent.Width
                    ZIndex: =4

                lineIndicatorCLS As rectangle:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    BorderThickness: =5
                    Fill: =RGBA(255, 0, 0, 1)
                    Height: =Parent.Height
                    Visible: =If(ThisItem.Navigate=DashboardScreen,true,false)
                    Width: =4
                    X: =1
                    ZIndex: =5

