SubmittedLeadScreen As screen:
    OnVisible: |
        =UpdateContext({locInfoExpanded:false});
        Set(VarDownIcon,true);

    ctnMainSLS As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(219, 219, 219, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =10
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        PaddingLeft: =10
        PaddingRight: =10
        Width: =Parent.Width
        ZIndex: =1

        ctnHeaderSLS As groupContainer.horizontalAutoLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: |-
                =//Parent.Height/13.5
                ///If(Parent.Height<Parent.Width,Parent.Height/6,Parent.Height/18)
                If(Parent.Height<Parent.Width,60,80)
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width/1.02
            LayoutMode: =LayoutMode.Auto
            PaddingRight: =0.00
            PaddingTop: =0.00
            Width: =Parent.Width-20
            X: =0.00
            ZIndex: =1

            IconMenuSLS As icon.Hamburger:
                Color: =RGBA(0, 0, 0, 1)
                Height: =Parent.Height
                Icon: =Icon.Hamburger
                OnSelect: =Set(varshowMenu,!varshowMenu)
                PaddingBottom: =Parent.Height/3
                PaddingTop: =Parent.Height/3
                Width: =Parent.Height/2
                X: =18
                Y: =11
                ZIndex: =1

            imgSchindlerLogoSLS As image:
                AlignInContainer: =AlignInContainer.Center
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Parent.Height
                Image: ='1x'
                LayoutMinHeight: =320
                LayoutMinWidth: =320
                PaddingBottom: =5
                PaddingTop: =0.00
                Width: =If(Parent.Width>Parent.Height,Parent.Width/10,Parent.Width/12)
                X: =0.00
                ZIndex: =2

            iconBackSLS As icon.BackArrow:
                Color: =RGBA(0, 0, 0, 1)
                Height: =Parent.Height/2
                Icon: =Icon.ChevronLeft
                OnSelect: |-
                    =Navigate(DashboardScreen);
                    UpdateContext({locInfoExpanded:false});
                    Reset(IntxtSearchBoxSLS);
                PaddingBottom: =5
                PaddingTop: =5
                Width: =Parent.Height/2
                X: =18
                Y: =11
                ZIndex: =3

            lblHeaderSLS As label:
                AlignInContainer: =AlignInContainer.Center
                DisplayMode: =DisplayMode.View
                Font: =Font.Arial
                FontWeight: =FontWeight.Bold
                Height: =Parent.Height
                LayoutMinHeight: =70
                PaddingLeft: =20
                PaddingRight: =5.34
                PaddingTop: =5.34
                Size: |
                    =//21.36
                    If(Parent.Width<500,14,Parent.Width>500,20)
                Text: ="Technician Lead Generation"
                Width: =Parent.Width-imgSchindlerLogoSLS.Width-IconMenuSLS.Width-btnUserNameSLS.Width-60
                X: =96.12
                ZIndex: =4

            btnUserNameSLS As button:
                AlignInContainer: =AlignInContainer.Center
                BorderColor: =Color.Red
                Color: =RGBA(0, 0, 0, 1)
                DisabledBorderColor: =RGBA(255, 0, 0, 1)
                DisabledColor: =RGBA(0, 0, 0, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(0, 0, 0, 0)
                Font: =Font.Arial
                Height: =If(Parent.Width<500,Parent.Height/1.8,Parent.Height/1.6)
                RadiusBottomLeft: =50
                RadiusBottomRight: =50
                RadiusTopLeft: =50
                RadiusTopRight: =50
                Size: =If(Parent.Width<500,11,Parent.Width>500,12,12)
                Text: |-
                    =Left(User().FullName, 1) &
                    Mid(
                        User().FullName,
                        Find(" ", User().FullName) + 1,
                        1)
                Width: =If(Parent.Width<500,Parent.Height/1.8,Parent.Height/1.6)
                ZIndex: =5

        ctnUserNameSLS As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            FillPortions: =0
            Height: |-
                =//Parent.Height/14
                If(Parent.Height<Parent.Width,Parent.Height/10,Parent.Height/16)
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            PaddingRight: =0.00
            PaddingTop: =0.00
            Width: =Parent.Width-40
            X: =21.36
            Y: =ctnHeaderSLS.Y+ctnHeaderSLS.Height+10
            ZIndex: =2

            btnheaderSLS As button:
                Align: =Align.Left
                Color: =RGBA(0, 0, 0, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(255, 255, 255, 1)
                Font: =Font.Arial
                Height: =Parent.Height
                PaddingBottom: =0
                PaddingLeft: =40
                PaddingRight: =20
                PaddingTop: =0
                Size: =If(Parent.Width<500,14,Parent.Width>500,20,18)
                Text: =If( Header = "InProgress","In Progress" ,Header) &" Leads"
                Width: =Parent.Width
                ZIndex: =1

            lblYearSLS As label:
                Align: =Align.Right
                Height: =Parent.Height
                PaddingRight: =40
                Text: =If(toggleYearDS.Value=true,toggleYearDS.TrueText,toggleYearDS.FalseText)
                Width: =Parent.Width
                ZIndex: =2

        ctnMiddleSLS As groupContainer.manualLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =Parent.Height-ctnUserNameSLS.Height-ctnHeaderSLS.Height
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            PaddingLeft: =10
            PaddingRight: =10
            Width: =Parent.Width/1.02
            X: =15
            ZIndex: =3

            "glrySubmittedLeadsSLS As gallery.'BrowseLayout_Flexible_SocialFeed_ver5.0'":
                BorderColor: =RGBA(219, 219, 219, 1)
                BorderThickness: =2
                DelayItemLoading: =true
                Height: =Parent.Height-ctnSearchBarSLS.Height
                Items: |-
                    =//If(cumulatively=true,
                    // )],yearly=true,[Text( Year(Now()))])
                    
                    /*If(cumulatively=true,
                       [Text( Year(Today())),
                        Text( Year(Today())-1),
                        Text( Year(Today())-2),
                        Text( Year(Today())-3),
                        Text( Year(Today())-4),
                        Text(Year(Today())-5),
                        Text( Year(Today())-6),
                        Text(Year(Today())-7),
                        Text(Year(Today())-8),
                        Text(Year(Today())-9),
                        Text(Year(Today())-10),
                        Text(Year(Today())-11)]
                        ,yearly=true,[Text( Year(Today()))])*/
                    
                     //If(cumulatively=true,Sequence(50,Year(Today())) ,yearly=true,[Text( Year(Today()))])
                     If(cumulatively=true,Sequence(LookUp(LeadInformations,MechanicName=User().FullName,Year('Created On'))-Year(Today())),yearly=true,[Year(Today())])
                     
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =4
                TemplateSize: =Min(1000, Self.Height - 20)
                Width: =Parent.Width/1.02
                X: =10
                Y: =ctnSearchBarSLS_1.Y+ctnSearchBarSLS_1.Height+10
                ZIndex: =1

                lblLeadYearSLS As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Color: =RGBA(255, 0, 0, 1)
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: =ThisItem.Value
                    Width: =Parent.Width/8
                    X: =lblTitleYearSLS.X
                    Y: =lblTitleYearSLS.Y+lblTitleYearSLS.Height+10
                    ZIndex: =1

                "glryLeadsSLS As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver4.0'":
                    Height: =If(CountRows(glryLeadsSLS.AllItems)<2,glryLeadsSLS.TemplateHeight+20,Parent.Height)
                    Items: |-
                        =SortByColumns(
                            Search(
                                Sort(
                                    Filter(
                                        LeadInformations,//Email=User().Email  && 
                                        Text(Year('Created On')) = lblLeadYearSLS.Text && If(
                                            Header = "Open",
                                            LeadStatus = "Submitted",
                                            LeadStatus = Header
                                        ) && Email = User().Email
                                    ),
                                    'Created On',
                                    SortOrder.Descending
                                ),
                                IntxtSearchBoxSLS.Text,
                                "shlrf_contractnumber",
                                "shlrf_address",
                                "shlrf_buildingname",
                                "shlrf_zipcode","shlrf_leadtrackingnumber"
                        
                            ),
                          If(ComboBox1.Selected.Value="Created Date","createdon",ComboBox1.Selected.Value="QQ Team Name","shlrf_qqteamname",ComboBox1.Selected.Value="Mechanic Name","shlrf_mechanicname",ComboBox1.Selected.Value="Contract No.","shlrf_contractnumber",ComboBox1.Selected.Value="Lead Tracking No.","shlrf_leadtrackingnumber",ComboBox1.Selected.Value="Building Name","shlrf_buildingname",ComboBox1.Selected.Value="Address","shlrf_address",ComboBox1.Selected.Value="Lead Status","shlrf_leadstatus"),If(Icon1.Icon=Icon.ArrowDown,SortOrder.Descending,Icon1.Icon=Icon.ArrowUp,SortOrder.Ascending,SortOrder.Descending)
                        )
                    Layout: =Layout.Vertical
                    TemplatePadding: =0
                    TemplateSize: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",320,220)
                    Visible: |
                        =ThisItem.IsSelected && locInfoExpanded
                    Width: =If(Parent.Width>1000,Parent.Width,Parent.Width/1.05)
                    X: =5
                    Y: =rectangleYearSLS.Height
                    ZIndex: =2

                    borderLeadsSLS As rectangle:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderThickness: =2
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =Parent.TemplateHeight/1.02
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |-
                            =//Navigate(ViewLeadScreen);
                            Set(VarFormMode,Defaults(LeadInformations));
                        PressedFill: =RGBA(255, 0, 0, 1)
                        Visible: =false
                        Width: =If(Parent.Width<378,Parent.Width/1.07,Parent.Width>500,Parent.Width/1.02)
                        X: =1
                        Y: =10
                        ZIndex: =1

                    lblPriceSLS As label:
                        Font: =Font.Arial
                        Height: =25
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            =//"Sold Incentives $ : "&  " " & 0
                            "Price: $" & " " & ThisItem.'LeadPrice '
                        VerticalAlign: =VerticalAlign.Top
                        Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                        Width: =Parent.Width/2.55
                        X: =20
                        Y: =lblEstimateNumberSLS.Height+lblEstimateNumberSLS.Y
                        ZIndex: =2

                    lblTitleTotalIncentivesSLS As label:
                        Color: =RGBA(255, 0, 0, 1)
                        Font: =Font.Arial
                        Height: =25
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            =/*If(VarFutureIncetives = true,
                            "Potential Future Incentives $ :" & " " & "0",
                                      VarSoldIncetives=true,"Sold Incentives $:" & " " & "0",
                                      VarTotalIncentives=true,"Total Incentives $:" & " "& "0")*/
                            If(btnheaderSLS.Text="Quoted Leads","Proposed incentive: $ " &   ThisItem.LeadIncentive,"Sold incentive: $" &   ThisItem.LeadIncentive )
                        VerticalAlign: =VerticalAlign.Top
                        Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =20
                        ZIndex: =3

                    lineEstimateSLS As rectangle:
                        BorderColor: =RGBA(116, 116, 116, 1)
                        DisplayMode: =DisplayMode.View
                        Fill: =RGBA(202, 202, 202, 1)
                        Height: =2
                        OnSelect: =Select(Parent)
                        Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                        Width: =borderLeadsSLS.Width-40
                        X: =20
                        Y: =lblTitleTotalIncentivesSLS.Y+lblTitleTotalIncentivesSLS.Height
                        ZIndex: =4

                    lblEstimateNumberSLS As label:
                        Font: =Font.Arial
                        Height: =25
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            ="Estimate number : " & ThisItem.LeadEstimateNumber
                        VerticalAlign: =VerticalAlign.Top
                        Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =lineEstimateSLS.Y+lineEstimateSLS.Height+10
                        ZIndex: =5

                    HtmlTextBuildingNameSLS As htmlViewer:
                        AutoHeight: =true
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Building name : </b>" &  ThisItem.'BuildingName '
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltextContractNumberSLS.Y+htmltextContractNumberSLS.Height
                        ZIndex: =6

                    htmltextTrackingNumberSLS As htmlViewer:
                        AutoHeight: =true
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Tracking number : </b>" &  ThisItem.LeadTrackingNumber
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",lineEstimatenoSLS.Y+lineEstimatenoSLS.Height+10,20)
                        ZIndex: =7

                    htmltxtAddressSLS As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Address : </b>" & ThisItem.Address
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =HtmlTextBuildingNameSLS.Y+HtmlTextBuildingNameSLS.Height
                        ZIndex: =8

                    htmltxtZipcodeSLS As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Zipcode : </b>" & ThisItem.'ZipCode '
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtAddressSLS.Y+htmltxtAddressSLS.Height
                        ZIndex: =9

                    htmltxtDateSLS As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Date created : </b>" & ThisItem.'Created On'
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtZipcodeSLS.Y+htmltxtZipcodeSLS.Height
                        ZIndex: =10

                    btnSubmittedLeadSLS As button:
                        BorderColor: =RGBA(219, 219, 219, 1)
                        BorderThickness: =4
                        Color: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =borderLeadsSLS.Height
                        HoverColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |
                            =//Navigate(ViewLeadScreen);
                            Set(VarFormMode,ThisItem);
                            Set(VarLtdID,ThisItem.ID);
                            Set(VarBackColor,true);
                            Navigate([@ViewDetailsScreen],ScreenTransition.None);
                            Reset(IntxtSearchBoxSLS);
                            Set(VarLeadPhoneNumber,Text(ThisItem.'CustomerContact ', "[$-en-US](###) ###-####"))
                            /*{LtdID:ThisItem.ID,ContractNumber:ThisItem.'ContractNumber ',BuildingName:ThisItem.'BuildingName ',Address:ThisItem.Address,Zipcode:ThisItem.'ZipCode ',UnitCount:ThisItem.NumberofUnits,UnitDescription:ThisItem.UnitDescription,Scope:ThisItem.PrimaryScopeofWorkLID,ScopeOfWork:ThisItem.SecondaryScopeofWorkLID,CustomScope:ThisItem.CustomScopeofWork,unitdown:ThisItem.IsUnitDown,AdditionalExpensesRequired:ThisItem.AdditionalExpensesRequired,CommunicatedtoCustomer:ThisItem.CommunicatedToCustomer,EstimatedHours:ThisItem.'EstimatedHours ',Material:ThisItem.Notes,travelRequired:ThisItem.TravelRequired//LeadImage:ThisItem.LeadImages
                            }*/
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =8
                        RadiusBottomRight: =8
                        RadiusTopLeft: =8
                        RadiusTopRight: =8
                        Size: =24
                        Text: =""
                        Width: |-
                            =//If(Parent.Width<378,Parent.Width/1.07,Parent.Width<500,Parent.Width/1.05,Parent.Width/1.03)
                            If(Parent.Width<378,Parent.Width/1.07,Parent.Width>500,Parent.Width/1.02)
                        Y: =10
                        ZIndex: =11

                    lineEstimatenoSLS As rectangle:
                        BorderColor: =RGBA(116, 116, 116, 1)
                        DisplayMode: =DisplayMode.View
                        Fill: =RGBA(202, 202, 202, 1)
                        Height: =2
                        OnSelect: =Select(Parent)
                        Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                        Width: =borderLeadsSLS.Width-40
                        X: =20
                        Y: =lblPriceSLS.Height+lblPriceSLS.Y
                        ZIndex: =12

                    htmltxtStatusDateSLS As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            =If(btnheaderSLS.Text="Quoted leads","<b>BID Date : </b>" & ThisItem.StatusDate,btnheaderSLS.Text="Sold Leads","<b>Sold date : </b>" & ThisItem.StatusDate,"<b>Lead status date : </b>" & ThisItem.StatusDate)
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtDateSLS.Y+htmltxtDateSLS.Height
                        ZIndex: =13

                    htmltextContractNumberSLS As htmlViewer:
                        AutoHeight: =true
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Contract number : </b>" &  ThisItem.'ContractNumber '
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltextTrackingNumberSLS.Y+htmltextTrackingNumberSLS.Height
                        ZIndex: =14

                    iconmsgSLS As icon.Message:
                        Color: =RGBA(255, 0, 0, 1)
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =If(Parent.Width>1000,Parent.TemplateHeight/3,Parent.TemplateHeight/4)
                        Icon: =Icon.Message
                        OnSelect: |
                            =Navigate(ChatScreen);
                            Set(VarLtdName,ThisItem.'BuildingName ');
                            Set(VarLtdTrackingnumber,ThisItem.LeadTrackingNumber);
                            Set(VarLtdCntNumber,ThisItem.'ContractNumber ');
                            Set(VarLtdID,ThisItem.ID);
                        Width: =If(Parent.Width>1000,Parent.Width/20,Parent.Width/15)
                        X: =Parent.Width-2.5*(Self.Width)
                        Y: =htmltextTrackingNumberSLS.Y
                        ZIndex: =15

                lblTitleYearSLS As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Font: =Font.Arial
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: |-
                        =//ThisItem.Value\
                        "Year"
                    Width: =Parent.Width/8
                    X: =10
                    Y: =2*(btnLeadsSLS.Y)
                    ZIndex: =3

                lblCountTotalLeadsSLS As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 0, 0, 1)
                    Font: =Font.Arial
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: |-
                        =//30
                        30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: |-
                        =//If(btnheaderCL_1.Text="Quoted Leads",
                          //  LookUp(GCTotalIncentives,Year=Text(Year(Now())) &&  TechnicianID=VarTechnicianID.'Personnel No',TotalProposedLead,
                        CountRows(Filter(LeadInformations, Email=User().Email &&
                        Text(Year('Created On'))=lblLeadYearSLS.Text && If(Header="Open",LeadStatus="Submitted" ,LeadStatus=Header)))
                    VerticalAlign: =VerticalAlign.Top
                    Width: =lblTotalLeadsSLS.Width
                    X: =lblTotalLeadsSLS.X
                    Y: =lblTotalLeadsSLS.Y+lblTotalLeadsSLS.Height+10
                    ZIndex: =4

                lblTotalLeadsSLS As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Font: =Font.Arial
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: |-
                        =//Self.Size * 1.8
                        30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: |-
                        =//ThisItem.Value\
                        "Total Leads"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.Width/3.3
                    X: =lblTitleYearSLS.Width+lblTitleYearSLS.X+20
                    Y: =2*(btnLeadsSLS.Y)
                    ZIndex: =5

                lblCountTotalIncentivesSLS As label:
                    Align: =Align.Center
                    Color: =RGBA(255, 0, 0, 1)
                    Font: =Font.Arial
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: |-
                        =If(btnheaderSLS.Text="Quoted Leads",Value(Sum(
                            Filter(
                                GCTotalIncentives,TechnicianID=VarTechnicianID.'Personnel No' &&
                                Year(Year) = Year(Now())),TotalproposedIncentives
                        )),Value(Sum(
                            Filter(
                                GCTotalIncentives,TechnicianID=VarTechnicianID.'Personnel No' &&
                                Year(Year) = Year(Now())),TotalSoldIncentives
                        )))
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                    Width: =Parent.Width/3
                    X: =lblTotalLeadsSLS.Width+lblTotalLeadsSLS.X+20
                    Y: =lblTotalIncentivesSLS.Y+lblTotalIncentivesSLS.Height+10
                    ZIndex: =6

                lblTotalIncentivesSLS As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Font: =Font.Arial
                    FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: |-
                        =//ThisItem.Value\
                        "Total Incentive"
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                    Width: =Parent.Width/3
                    X: =lblTotalLeadsSLS.X+lblTotalLeadsSLS.Width
                    Y: =2*(btnLeadsSLS.Y)
                    ZIndex: =7

                rectangleYearSLS As rectangle:
                    BorderColor: =RGBA(219, 219, 219, 1)
                    BorderThickness: =1
                    Fill: =RGBA(0, 0, 0, 0)
                    OnSelect: =Select(Parent)
                    Visible: =false
                    Width: |-
                        =//Parent.Width/1.02
                        If(Parent.Width<378,Parent.Width/1.06,Parent.Width<500,Parent.Width/1.06,Parent.Width/1.03)
                    Y: =1
                    ZIndex: =8

                iconLine1LSLS As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    Fill: =RGBA(202, 202, 202, 1)
                    FocusedBorderThickness: =0
                    Height: =rectangleYearSLS.Height/2
                    Icon: =Icon.VerticalLine
                    OnSelect: =Select(Parent)
                    Width: =2
                    X: =lblTotalLeadsSLS.X
                    Y: =rectangleYearSLS.Y*20
                    ZIndex: =10

                iconLine2SLS As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    Fill: =RGBA(202, 202, 202, 1)
                    FocusedBorderThickness: =0
                    Height: =rectangleYearSLS.Height/2
                    Icon: =Icon.VerticalLine
                    OnSelect: =Select(Parent)
                    Visible: =If(btnheaderSLS.Text="Quoted Leads" ||"Sold Leads",true,false)
                    Width: =2
                    X: =lblTotalIncentivesSLS.X
                    Y: =rectangleYearSLS.Y*20
                    ZIndex: =11

                btnLeadsSLS As button:
                    BorderColor: =RGBA(237, 237, 237, 1)
                    BorderThickness: =4
                    DisabledBorderColor: =RGBA(237, 237, 237, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =80
                    HoverFill: =
                    OnSelect: =Select(Parent)
                    PressedBorderColor: =Self.BorderColor
                    PressedFill: =Self.Fill
                    Text: =""
                    Width: =If(Parent.Width<378,Parent.Width/1.06,Parent.Width<500,Parent.Width/1.06,Parent.Width/1.03)
                    X: =5
                    Y: =10
                    ZIndex: =12

                imgExpandSLS As image:
                    Height: =rectangleYearSLS.Height/1.2
                    Image: =accordianPlus
                    OnSelect: |-
                        =Select(Parent); UpdateContext({locInfoExpanded:true});Set(Vardown,Year(ThisItem.Value));
                    Visible: |
                        =!(ThisItem.IsSelected && locInfoExpanded)
                    Width: =Parent.Width/14
                    X: =rectangleYearSLS.Width -(1.08*Self.Width)
                    Y: =(Parent.Y-Self.Height)/8
                    ZIndex: =13

                imgCollapseSLS As image:
                    Height: =rectangleYearSLS.Height/1.2
                    Image: =accordianMinus
                    OnSelect: |-
                        =Select(Parent); UpdateContext({locInfoExpanded:false})
                    Visible: |
                        =ThisItem.IsSelected && locInfoExpanded
                    Width: =Parent.Width/14
                    X: =rectangleYearSLS.Width -(1.08*Self.Width)
                    Y: =(Parent.Y-Self.Height)/8
                    ZIndex: =14

            ctnSearchBarSLS As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Fill: =RGBA(255, 255, 255, 1)
                Height: =If(Parent.Width>800,60,80)
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =2
                Width: =Parent.Width
                X: =10
                ZIndex: =5

                IntxtSearchBoxSLS As text:
                    AlignInContainer: =AlignInContainer.Center
                    BorderColor: =RGBA(255, 0, 0, 1)
                    Clear: =true
                    Default: =""
                    DisabledBorderColor: =RGBA(255, 0, 0, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =If(Parent.Width>800,40,60)
                    HintText: ="Search leads by  tracking number or contract number or building name or address or zipcode "
                    HoverBorderColor: =RGBA(255, 0, 0, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    LayoutMinHeight: =70
                    LayoutMinWidth: =Self.Width
                    LineHeight: =1
                    Mode: =TextMode.MultiLine
                    OnChange: |-
                        =UpdateContext({locInfoExpanded:true});
                    OnSelect: =
                    PaddingLeft: =5
                    RadiusBottomLeft: =1
                    RadiusBottomRight: =1
                    RadiusTopLeft: =1
                    RadiusTopRight: =1
                    Reset: =true
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Width: =(ctnSearchBarSLS.Width)/1.17
                    ZIndex: =1

                IconSearchSLS As icon.Search:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    BorderThickness: =2
                    Color: =RGBA(116, 116, 116, 1)
                    FocusedBorderThickness: =1
                    Height: =If(Parent.Width>800,40,60)
                    Icon: =Icon.Search
                    OnSelect: |-
                        =UpdateContext({locInfoExpanded:true})
                    PaddingBottom: =5
                    PaddingLeft: =5
                    PaddingRight: =5
                    PaddingTop: =5
                    Width: =(ctnSearchBarSLS.Width-IntxtSearchBoxSLS.Width)/1.5
                    X: =468
                    Y: =000
                    ZIndex: =2

            ctnSearchBarSLS_1 As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Fill: =RGBA(255, 255, 255, 1)
                Height: =80
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =2
                Width: =Parent.Width/1.04
                X: =10
                Y: =ctnSearchBarSLS.Height
                ZIndex: =6

                Label4_1 As label:
                    Align: =Align.Right
                    Color: =RGBA(116, 116, 116, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Text: ="Sort by column"
                    Width: =If(Parent.Width>500,Parent.Width/2.4,Parent.Width/3)
                    X: =Parent.Width-Self.Width
                    Y: =10
                    ZIndex: =1

                ComboBox1 As combobox:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    ChevronBackground: =RGBA(255, 0, 0, 1)
                    ChevronHoverBackground: =Self.ChevronBackground
                    DefaultSelectedItems: =["Created Date"]
                    DisplayFields: =["Value"]
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    HoverFill: =RGBA(0, 0, 0, 0)
                    InputTextPlaceholder: =//"Created Date"
                    IsSearchable: =false
                    Items: |-
                        =//["Tracking number" As , "Created On", "Building Name","Contract Number"]
                        ["Created Date","Contract number","Lead Tracking No.","Building Name","Address","Status Date"]
                    OnChange: |-
                        =UpdateContext({locInfoExpanded:true})
                    PressedColor: =RGBA(0, 0, 0, 1)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    SearchFields: =["Value"]
                    SearchItems: =[]
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(237, 237, 237, 1)
                    SelectMultiple: =false
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Width: |-
                        =//Parent.Width/2
                        200
                    ZIndex: =2

                Icon1 As icon.ArrowsUpDown:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =40
                    Icon: =If(VarDownIcon,Icon.ArrowDown,VarUpperIcon,Icon.ArrowUp)
                    OnSelect: |-
                        =If(
                           /* Icon1.Icon = Icon.Sort,
                            Set(
                                VarUpperIcon,
                                true
                            );
                                Set(VarDownIcon,false);,*/
                            Icon1.Icon = Icon.ArrowDown,
                            Set(
                                VarUpperIcon,
                                true
                            );
                            Set(VarDownIcon,false);,
                            Icon1.Icon = Icon.ArrowUp,
                            Set(
                                VarDownIcon,
                                true
                            );
                            Set(
                                VarUpperIcon,
                                false
                            );
                        );
                        UpdateContext({locInfoExpanded:true});
                    Width: =40
                    ZIndex: =3

    grpMenuSLS As group:
        Height: =5
        Width: =5
        X: =40
        Y: =80
        ZIndex: =4

        ctnBackgroundMenuSLS As groupContainer.manualLayoutContainer:
            Fill: =RGBA(0, 0.19, 0.19, 0.19)
            Height: =Parent.Height-ctnHeaderDS.Height
            Visible: =varshowMenu
            Width: =Parent.Width
            Y: =ctnHeaderDS.Y+ctnHeaderDS.Height
            ZIndex: =2

        "glryMenuBarSLS As gallery.'BrowseLayout_Vertical_OneTextOneImageVariant_ver4.0'":
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderThickness: =1
            Fill: =RGBA(237, 237, 237, 1)
            Height: =1.08*(CountRows(glryMenuBarSLS.AllItems)*(glryMenuBarSLS.TemplateHeight))
            Items: =Menu
            Layout: =Layout.Vertical
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =90
            Visible: =varshowMenu
            Width: =Parent.Width/4
            X: =10
            Y: =ctnHeaderDS.Y+ctnHeaderDS.Height
            ZIndex: =3

            ctnMenuSLS As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =80
                Width: =Parent.Width/1.02
                ZIndex: =8

                lblMenuSLS As label:
                    AutoHeight: =true
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =24
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<500,10,12)
                    Text: =ThisItem.Title
                    Width: =Parent.Width-iconMenuSLS.Width-lineIndicatorSLS.Width
                    X: =iconMenuSLS.Width+iconMenuSLS.X
                    Y: =30
                    ZIndex: =1

                iconMenuSLS As icon.Add:
                    Color: =RGBA(255, 0, 0, 1)
                    Height: =Parent.Height/4.5
                    Icon: =ThisItem.icon
                    Width: =Parent.Width/4.5
                    X: =12
                    Y: =30
                    ZIndex: =3

                btnMenuSLS As button:
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =80
                    HoverFill: =
                    OnSelect: |+
                        =Set(varshowMenu,!varshowMenu);Navigate(ThisItem.Navigate);
                        
                    PressedFill: =
                    Size: =24
                    Text: =""
                    Width: =Parent.Width
                    ZIndex: =4

                lineIndicatorSLS As rectangle:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    BorderThickness: =5
                    Fill: =RGBA(255, 0, 0, 1)
                    Height: =Parent.Height
                    Visible: =If(ThisItem.Navigate=DashboardScreen,true,false)
                    Width: =4
                    X: =1
                    ZIndex: =5

