QuotedSOldLeads As screen:
    OnVisible: |-
        =ClearCollect(Localleadinformation,Filter(LeadInformations,Email=User().Email));
        Set(VarDownIcon,true);
        If(Connection.Connected=false,Notify("Internet is not connected,please try again later.",NotificationType.Error)
        //,Notify("Internet is connected",NotificationType.Success)
        );
        UpdateContext({locInfoExpanded:false});

    ctnMainSoldLeads As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(219, 219, 219, 1)
        Height: =Parent.Height
        LayoutAlignItems: =LayoutAlignItems.Center
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =10
        LayoutMode: =LayoutMode.Auto
        LayoutOverflowY: =LayoutOverflow.Scroll
        PaddingLeft: =10
        PaddingRight: =10
        Width: =Parent.Width
        ZIndex: =1

        ctnHeaderSoldLeads As groupContainer.horizontalAutoLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.None
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: |-
                =//Parent.Height/13.5
                ///If(Parent.Height<Parent.Width,Parent.Height/6,Parent.Height/18)
                If(Parent.Height<Parent.Width,60,80)
            LayoutAlignItems: =LayoutAlignItems.Center
            LayoutMinHeight: =100
            LayoutMinWidth: =Parent.Width/1.02
            LayoutMode: =LayoutMode.Auto
            PaddingRight: =0.00
            PaddingTop: =0.00
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =Parent.Width-20
            X: =0.00
            ZIndex: =1

            IconMenuSoldLeads As icon.Hamburger:
                Color: =RGBA(0, 0, 0, 1)
                Height: =Parent.Height
                Icon: =Icon.Hamburger
                OnSelect: =Set(varshowMenu,!varshowMenu)
                PaddingBottom: =Parent.Height/3
                PaddingTop: =Parent.Height/3
                Width: =Parent.Height/2
                X: =18
                Y: =11
                ZIndex: =1

            imgSchindlerLogoSoldLeads As image:
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(255, 255, 255, 1)
                Height: =Parent.Height
                Image: ='1x'
                LayoutMinHeight: =320
                LayoutMinWidth: =320
                PaddingBottom: =5
                PaddingTop: =0.00
                Width: =If(Parent.Width>Parent.Height,Parent.Width/10,Parent.Width/12)
                X: =0.00
                ZIndex: =2

            iconBackSoldLeads As icon.BackArrow:
                Color: =RGBA(0, 0, 0, 1)
                Height: =Parent.Height/2
                Icon: =Icon.ChevronLeft
                OnSelect: |-
                    =Navigate(DashboardScreen);
                    UpdateContext({locInfoExpanded:false});
                    Set(VarNavigateId,Blank());
                    Reset(IntxtSearchBoxSoldLeads);
                PaddingBottom: =5
                PaddingTop: =5
                Width: =Parent.Height/2
                X: =18
                Y: =11
                ZIndex: =3

            lblHeaderSoldLeads As label:
                DisplayMode: =DisplayMode.View
                Font: =Font.Arial
                FontWeight: =FontWeight.Bold
                Height: =Parent.Height
                LayoutMinHeight: =70
                PaddingLeft: =20
                PaddingRight: =5.34
                PaddingTop: =5.34
                Size: |
                    =//21.36
                    If(Parent.Width<500,14,Parent.Width>500,20)
                Text: ="Technician Lead Generation"
                Width: =Parent.Width-imgSchindlerLogoSoldLeads.Width-IconMenuSoldLeads.Width-btnUserNameSoldLeads.Width-70
                X: =96.12
                ZIndex: =4

            btnUserNameSoldLeads As button:
                BorderColor: =Color.Red
                Color: =RGBA(0, 0, 0, 1)
                DisabledBorderColor: =RGBA(255, 0, 0, 1)
                DisabledColor: =RGBA(0, 0, 0, 1)
                DisabledFill: =RGBA(0, 0, 0, 0)
                DisplayMode: =DisplayMode.Disabled
                Fill: =RGBA(0, 0, 0, 0)
                Font: =Font.Arial
                Height: =If(Parent.Width<500,Parent.Height/1.8,Parent.Height/1.6)
                RadiusBottomLeft: =50
                RadiusBottomRight: =50
                RadiusTopLeft: =50
                RadiusTopRight: =50
                Size: =If(Parent.Width<500,11,Parent.Width>500,12,12)
                Text: |-
                    =Left(User().FullName, 1) &
                    Mid(
                        User().FullName,
                        Find(" ", User().FullName) + 1,
                        1)
                Width: =If(Parent.Width<500,Parent.Height/1.8,Parent.Height/1.6)
                ZIndex: =5

        ctnUserNameSoldLeads As groupContainer.manualLayoutContainer:
            AlignInContainer: =AlignInContainer.SetByContainer
            DropShadow: =DropShadow.None
            FillPortions: =0
            Height: |-
                =//Parent.Height/14
                If(Parent.Height<Parent.Width,Parent.Height/10,Parent.Height/16)
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            PaddingRight: =0.00
            PaddingTop: =0.00
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =Parent.Width-40
            X: =21.36
            Y: =ctnHeaderSoldLeads.Y+ctnHeaderSoldLeads.Height+10
            ZIndex: =2

            btnheaderSoldLeads As button:
                Align: =Align.Left
                Color: =RGBA(0, 0, 0, 1)
                DisplayMode: =DisplayMode.View
                Fill: =RGBA(255, 255, 255, 1)
                Font: =Font.Arial
                Height: =Parent.Height
                PaddingBottom: =0
                PaddingLeft: =40
                PaddingRight: =20
                PaddingTop: =0
                Size: =If(Parent.Width<500,14,Parent.Width>500,20,18)
                Text: =VarHeader &" Leads"
                Width: =Parent.Width
                ZIndex: =1

        ctnMiddleSoldLeads As groupContainer.manualLayoutContainer:
            DropShadow: =DropShadow.None
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =Parent.Height+ctnUserNameSoldLeads.Height+ctnHeaderSoldLeads.Height+400
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            PaddingLeft: =10
            PaddingRight: =10
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Width: =Parent.Width/1.02
            X: =15
            ZIndex: =3

            "'glrySold/QuotedLeads' As gallery.'BrowseLayout_Flexible_SocialFeed_ver5.0'":
                '#CopilotOverlayLabel': ="Filtered"
                BorderColor: =RGBA(219, 219, 219, 1)
                BorderThickness: =2
                DelayItemLoading: =true
                Height: =Parent.Height-ctnSearchBarSoldLeads.Height-ctnSortBarSoldLeads.Height
                Items: |+
                    =Sort(If(
                        cumulatively = true,
                    Filter(GCTotalIncentives,TechnicianID=VarTechnicianID.'Personnel No' && If(VarHeader="Quoted",Value( TotalProposedLead)<>0,Value(TotalSoldLead)<>0),Year),
                    yearly = true,
                    With(
                        {
                            StartYear:Min(GCTotalIncentives,Year),
                            EndYear: Max(GCTotalIncentives,Year) 
                        },
                    Filter(GCTotalIncentives,TechnicianID=VarTechnicianID.'Personnel No' && Year =Text(EndYear)))),Year,SortOrder.Descending)
                    
                Layout: =Layout.Vertical
                LoadingSpinner: =LoadingSpinner.Data
                TemplatePadding: =4
                TemplateSize: =Min(1000, Self.Height - 20)
                Width: =Parent.Width/1.02
                X: =5
                Y: =ctnSortBarSoldLeads.Y+ctnSortBarSoldLeads.Height+10
                ZIndex: =1

                lblLeadYearSL As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Color: =RGBA(220, 0, 0, 1)
                    FontWeight: |-
                        =//If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        FontWeight.Normal
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: =ThisItem.Year
                    Width: =Parent.Width/8
                    X: =1
                    Y: =lblTitleYearSL.Y+lblTitleYearSL.Height+10
                    ZIndex: =5

                "glryLeadsSL As gallery.'BrowseLayout_Vertical_ThreeTextVariant_ver4.0'":
                    '#CopilotOverlayLabel': ="Filtered"
                    Height: =If(CountRows(glryLeadsSL.AllItems)<2,glryLeadsSL.TemplateHeight+20,Parent.Height)
                    Items: |-
                        =SortByColumns(Search(Sort(Filter(Localleadinformation,//Email=User().Email  && 
                        LeadStatus=VarHeader && Email=User().Email && If(LeadStatus="Quoted",Year(ProposedLeadDate)=Year(ThisItem.Year),Year(SoldLeadDate)=Year(ThisItem.Year))),If(LeadStatus="Quoted",ProposedLeadDate,SoldLeadDate),SortOrder.Descending),IntxtSearchBoxSoldLeads.Text,shlrf_contractnumber,shlrf_address,shlrf_buildingname,shlrf_zipcode,shlrf_leadtrackingnumber),If(cboxSortSoldLeads.Selected.Value="Created Date","createdon",cboxSortSoldLeads.Selected.Value="QQ Team Name","shlrf_qqteamname",cboxSortSoldLeads.Selected.Value="Mechanic Name","shlrf_mechanicname",cboxSortSoldLeads.Selected.Value="Contract No.","shlrf_contractnumber",cboxSortSoldLeads.Selected.Value="Lead Tracking No.","shlrf_leadtrackingnumber",cboxSortSoldLeads.Selected.Value="Building Name","shlrf_buildingname",cboxSortSoldLeads.Selected.Value="Address","shlrf_address",cboxSortSoldLeads.Selected.Value="Lead Status","shlrf_leadstatus"),If(iconSortSoldLeads.Icon=Icon.ArrowDown,SortOrder.Descending,iconSortSoldLeads.Icon=Icon.ArrowUp,SortOrder.Ascending,SortOrder.Descending))
                    Layout: =Layout.Vertical
                    TemplatePadding: =0
                    TemplateSize: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",320,200)
                    Visible: |
                        =ThisItem.IsSelected && locInfoExpanded  
                    Width: =If(Parent.Width>1000,Parent.Width,Parent.Width/1.05)
                    X: =1
                    Y: =rectangleYearSL.Height
                    ZIndex: =6

                    borderLeadsSL As rectangle:
                        BorderColor: =RGBA(0, 0, 0, 0)
                        BorderThickness: =2
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =Parent.TemplateHeight/1.02
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |-
                            =//Navigate(ViewLeadScreen);
                            Set(VarFormMode,Defaults(LeadInformations));
                        PressedFill: =RGBA(255, 0, 0, 1)
                        Visible: =false
                        Width: =If(Parent.Width<378,Parent.Width/1.07,Parent.Width>500,Parent.Width/1.02)
                        X: =1
                        Y: =10
                        ZIndex: =1

                    lblSoldPriceSL As label:
                        Font: =Font.Arial
                        Height: |-
                            =//If(btnheaderSLS_2.Text="Sold Leads",25,0)
                            0
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            ="Sold Price: $" & " " & Text(ThisItem.SoldLeadPrice,"0.00")
                        VerticalAlign: =VerticalAlign.Top
                        Visible: =//If(btnheaderSLS_2.Text="Sold Leads",true,false)
                        Width: =Parent.Width/2.55
                        X: =20
                        Y: =lblEstimateNumberSL.Height+lblEstimateNumberSL.Y
                        ZIndex: =2

                    lblSoldIncentivesSL As label:
                        Color: =RGBA(255, 0, 0, 1)
                        Font: =Font.Arial
                        Height: =If(btnheaderSoldLeads.Text="Sold Leads",25,0)
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            ="Sold Incentive: $" & Text(ThisItem.SoldLeadIncentives,"0.00")
                        VerticalAlign: =VerticalAlign.Top
                        Visible: =If(btnheaderSoldLeads.Text="Sold Leads",true,false)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =20
                        ZIndex: =3

                    lineEstimateSL As rectangle:
                        BorderColor: =RGBA(116, 116, 116, 1)
                        DisplayMode: =DisplayMode.View
                        Fill: =RGBA(202, 202, 202, 1)
                        Height: =2
                        OnSelect: =Select(Parent)
                        Visible: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",true,false)
                        Width: =borderLeadsSL.Width-40
                        X: =20
                        Y: =lblTitleTotalIncentivesSL.Y+lblTitleTotalIncentivesSL.Height
                        ZIndex: =4

                    lblEstimateNumberSL As label:
                        Font: =Font.Arial
                        Height: =25
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            ="Estimate Number: " & ThisItem.LeadEstimateNumber
                        VerticalAlign: =VerticalAlign.Top
                        Visible: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",true,false)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =lineEstimateSL.Y+lineEstimateSL.Height+10
                        ZIndex: =5

                    HtmlTextBuildingNameSL As htmlViewer:
                        AutoHeight: =true
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Building Name: </b>" &  ThisItem.'BuildingName '
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.3
                        X: =20
                        Y: =htmltextContractNumberSL.Y+htmltextContractNumberSL.Height
                        ZIndex: =6

                    htmltextTrackingNumberSL As htmlViewer:
                        AutoHeight: =true
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Tracking Number: </b>" &  ThisItem.LeadTrackingNumber
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.3
                        X: =20
                        Y: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",lineEstimatenoSL.Y+lineEstimatenoSL.Height+10,20)
                        ZIndex: =7

                    htmltxtAddressSL As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Address: </b>" & ThisItem.Address
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =HtmlTextBuildingNameSL.Y+HtmlTextBuildingNameSL.Height
                        ZIndex: =8

                    htmltxtZipcodeSL As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =0
                        HtmlText: |-
                            ="<b>Zipcode: </b>" & ThisItem.'ZipCode '
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Visible: =false
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtAddressSL.Y+htmltxtAddressSL.Height
                        ZIndex: =9

                    htmltxtDateSL As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Date Created: </b>" & Text(ThisItem.'Created On',"yyyy/mm/dd hh:mm AM/PM")
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtZipcodeSL.Y+htmltxtZipcodeSL.Height
                        ZIndex: =10

                    btnSubmittedLeadSL As button:
                        BorderColor: =RGBA(219, 219, 219, 1)
                        BorderThickness: =4
                        Color: =RGBA(0, 0, 0, 0)
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =borderLeadsSL.Height
                        HoverColor: =RGBA(0, 0, 0, 0)
                        HoverFill: =RGBA(0, 0, 0, 0)
                        OnSelect: |+
                            =//Navigate(ViewLeadScreen);
                            Set(VarFormMode,ThisItem);
                            Set(VarLtdID,ThisItem.ID);
                            Set(VarBackColor,true);
                            Navigate([@ViewDetailsScreen],ScreenTransition.None);
                            Reset(IntxtSearchBoxSoldLeads);
                            Set(VarLeadPhoneNumber,Text(ThisItem.'CustomerContact '));/*"[$-en-US](###) ###-####")*/
                            
                            Set(VarLeadstatus,ThisItem.LeadStatus);
                            
                        PressedBorderColor: =RGBA(0, 0, 0, 0)
                        PressedFill: =RGBA(0, 0, 0, 0)
                        RadiusBottomLeft: =8
                        RadiusBottomRight: =8
                        RadiusTopLeft: =8
                        RadiusTopRight: =8
                        Size: =24
                        Text: =""
                        Width: |-
                            =//If(Parent.Width<378,Parent.Width/1.07,Parent.Width<500,Parent.Width/1.05,Parent.Width/1.03)
                            If(Parent.Width<378,Parent.Width/1.02,Parent.Width>500,Parent.Width/1.02)
                        Y: =10
                        ZIndex: =11

                    lineEstimatenoSL As rectangle:
                        BorderColor: =RGBA(116, 116, 116, 1)
                        DisplayMode: =DisplayMode.View
                        Fill: =RGBA(202, 202, 202, 1)
                        Height: =2
                        OnSelect: =Select(Parent)
                        Visible: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",true,false)
                        Width: =borderLeadsSL.Width-40
                        X: =20
                        Y: =lblPriceSL.Height+lblPriceSL.Y
                        ZIndex: =12

                    htmltxtSoldDateSL As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =If(btnheaderSoldLeads.Text="Sold Leads",25,0)
                        HtmlText: |-
                            ="<b>Sold Date: </b>" & Text(ThisItem.SoldLeadDate,"yyyy/mm/dd hh:mm AM/PM")
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Visible: =If(btnheaderSoldLeads.Text="Sold Leads",true,false)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtDateSL.Y+htmltxtDateSL.Height
                        ZIndex: =13

                    htmltextContractNumberSL As htmlViewer:
                        AutoHeight: =true
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Contract Number: </b>" &  ThisItem.'ContractNumber '
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.3
                        X: =20
                        Y: =htmltextTrackingNumberSL.Y+htmltextTrackingNumberSL.Height
                        ZIndex: =14

                    iconmsgSL As icon.Message:
                        Color: =RGBA(255, 0, 0, 1)
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =If(Parent.Width>1000,Parent.TemplateHeight/3,Parent.TemplateHeight/4)
                        Icon: =Icon.Message
                        OnSelect: |
                            =//Passing value of selected LeadTrackingNumber
                            Navigate(ChatScreen);
                            Set(VarLtdName,ThisItem.'BuildingName ');
                            Set(VarLtdTrackingnumber,ThisItem.LeadTrackingNumber);
                            Set(VarLtdCntNumber,ThisItem.'ContractNumber ');
                            Set(VarLtdID,ThisItem.ID);
                            Set(VarEstimateNumber,ThisItem.LeadEstimateNumber);
                        Visible: |-
                            =//If(Header="Rejected",false,true)
                            false
                        Width: =If(Parent.Width>1000,Parent.Width/20,Parent.Width/15)
                        X: =Parent.Width-2.5*(Self.Width)
                        Y: =htmltextTrackingNumberSL.Y
                        ZIndex: =15

                    htmltxtQQTeamMemberSL As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>QQ Team Member: </b>" & ThisItem.QQTeamName
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtStatusDateSL.Y+htmltxtStatusDateSL.Height
                        ZIndex: =16

                    lblTitleTotalIncentivesSL As label:
                        Color: =If(btnheaderSoldLeads.Text="Quoted Leads",RGBA(220,0,0,1),Color.Black)
                        Font: =Font.Arial
                        Height: =25
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            ="Quoted Incentive: $" & Text(ThisItem.ProposedLeadIncentives,"0.00")
                        VerticalAlign: =VerticalAlign.Top
                        Visible: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",true,false)
                        Width: =Parent.Width/1.06
                        X: =20
                        Y: =lblTotalIncentivesSL.Height+lblTotalIncentivesSL.Y
                        ZIndex: =17

                    lblPriceSL As label:
                        Font: =Font.Arial
                        Height: =0
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,9,Parent.Width<500,12,14)
                        Text: |-
                            ="Proposed Price: $" & " " & ThisItem.ProposedLeadPrice
                        VerticalAlign: =VerticalAlign.Top
                        Visible: |-
                            =//If(btnheaderSLS_2.Text="Quoted Leads" ||btnheaderSLS_2.Text="Sold Leads",true,false)
                            false
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =lblSoldPriceSL.Height+lblSoldPriceSL.Y
                        ZIndex: =18

                    htmltxtStatusDateSL As htmlViewer:
                        AutoHeight: =true
                        DisplayMode: =DisplayMode.View
                        Font: =Font.Arial
                        Height: =20
                        HtmlText: |-
                            ="<b>Quoted Date: </b>" & Text( ThisItem.ProposedLeadDate,"yyyy/mm/dd hh:mm AM/PM")
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingTop: =0
                        Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                        Width: =Parent.Width/1.08
                        X: =20
                        Y: =htmltxtSoldDateSL.Y+htmltxtSoldDateSL.Height
                        ZIndex: =19

                    imgMessageSL As image:
                        Height: |+
                            =//If(Parent.Width>1000,Parent.TemplateHeight/3,Parent.TemplateHeight/4)
                            If(Parent.Width>1000,Parent.TemplateHeight/3.5,Parent.TemplateHeight/4.5)
                            
                        Image: ='mailtripti (1)'
                        OnSelect: |
                            =Navigate(ChatScreen);
                            Set(VarLtdName,ThisItem.'BuildingName ');
                            Set(VarLtdTrackingnumber,ThisItem.LeadTrackingNumber);
                            Set(VarLtdCntNumber,ThisItem.'ContractNumber ');
                            Set(VarLtdID,ThisItem.ID);
                            Set(VarLeadstatus,ThisItem.LeadStatus);
                            Set(VarEstimateNumber,ThisItem.LeadEstimateNumber);
                        Width: =If(Parent.Width>1000,Parent.Width/20,Parent.Width/15)
                        X: =Parent.Width-2.5*(Self.Width)
                        Y: =htmltextTrackingNumberSL.Y
                        ZIndex: =20

                    iconUnreadIndicatorSL As circle:
                        BorderColor: =RGBA(255, 0, 0, 1)
                        BorderThickness: =1
                        DisplayMode: =DisplayMode.View
                        Fill: =RGBA(255, 0, 0, 1)
                        Height: =15
                        OnSelect: =Select(Parent)
                        Visible: =If(CountRows(Filter(LeadChats,LeadInformationLID.ID =ThisItem.ID && 'Read '='Read  (LeadChats)'.No && IsQQApp='IsQQApp (LeadChats)'.Yes && LeadInformationLID.LeadStatus=VarHeader))=0,false,true)
                        Width: =15
                        X: =imgMessageSL.X+imgMessageSL.Width/1.2
                        Y: |-
                            =//Parent.TemplateHeight/
                            htmltextTrackingNumberSL.Y+20
                        ZIndex: =21

                lblTitleYearSL As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Font: =Font.Arial
                    FontWeight: |-
                        =//If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        FontWeight.Normal
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: ="Year"
                    Width: =Parent.Width/8
                    X: =1
                    Y: =2*(btnLeadsSL.Y)
                    ZIndex: =7

                lblCountTotalLeadsSL As label:
                    Align: =Align.Center
                    Color: =RGBA(220, 0, 0, 1)
                    Font: =Font.Arial
                    FontWeight: |-
                        =//If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        FontWeight.Normal
                    Height: |-
                        =//30
                        30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: =If( VarHeader="Quoted",ThisItem.TotalProposedLead,ThisItem.TotalSoldLead)
                    VerticalAlign: =VerticalAlign.Top
                    Width: =lblTotalLeadsSL.Width
                    X: =lblTotalLeadsSL.X
                    Y: =lblTotalLeadsSL.Y+lblTotalLeadsSL.Height+10
                    ZIndex: =8

                lblTotalLeadsSL As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Font: =Font.Arial
                    FontWeight: |-
                        =//If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        FontWeight.Normal
                    Height: |-
                        =//Self.Size * 1.8
                        30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: ="Total Leads"
                    VerticalAlign: =VerticalAlign.Top
                    Width: =Parent.Width/3.3
                    X: =lblLeadYearSL.Width+lblLeadYearSL.X
                    Y: =2*(btnLeadsSL.Y)
                    ZIndex: =9

                lblCountTotalIncentivesSL As label:
                    Align: =Align.Center
                    Color: =RGBA(220, 0, 0, 1)
                    Font: =Font.Arial
                    FontWeight: |-
                        =//If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        FontWeight.Normal
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: |
                        ="$ " & If(
                            VarHeader = "Quoted",
                            If(
                                !IsBlank(ThisItem.TotalproposedIncentives),
                                Text(
                                    ThisItem.TotalproposedIncentives,
                                    "0.00"
                                ),
                                0.00
                            ),
                            If(
                                !IsBlank(ThisItem.TotalSoldIncentives),
                                If(
                                ThisItem.YearlyCapReached=true,"10000.00",
                                    Text(  ThisItem.TotalSoldIncentives,"0.00")
                        ),
                                0.00
                            )
                        )
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",true,false)
                    Width: =Parent.Width/3
                    X: =lblTotalLeadsSL.Width+lblTotalLeadsSL.X
                    Y: =lblTotalIncentivesSL.Y+lblTotalIncentivesSL.Height+10
                    ZIndex: =10

                lblTotalIncentivesSL As label:
                    Align: =Align.Center
                    AutoHeight: =true
                    Font: =Font.Arial
                    FontWeight: |-
                        =//If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        FontWeight.Normal
                    Height: =30
                    OnSelect: =Select(Parent)
                    PaddingBottom: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<378,10,Parent.Width<500,11,14)
                    Text: ="Total Incentive"
                    VerticalAlign: =VerticalAlign.Top
                    Visible: =If(btnheaderSoldLeads.Text="Quoted Leads" ||btnheaderSoldLeads.Text="Sold Leads",true,false)
                    Width: =Parent.Width/3
                    X: =lblTotalLeadsSL.X+lblTotalLeadsSL.Width
                    Y: =2*(btnLeadsSL.Y)
                    ZIndex: =11

                rectangleYearSL As rectangle:
                    BorderColor: =RGBA(219, 219, 219, 1)
                    BorderThickness: =1
                    Fill: =RGBA(0, 0, 0, 0)
                    OnSelect: =Select(Parent)
                    Visible: =false
                    Width: |-
                        =//Parent.Width/1.02
                        If(Parent.Width<378,Parent.Width/1.06,Parent.Width<500,Parent.Width/1.06,Parent.Width/1.03)
                    Y: =1
                    ZIndex: =12

                iconLine1LSL As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    Fill: =RGBA(202, 202, 202, 1)
                    FocusedBorderThickness: =0
                    Height: =rectangleYearSL.Height/2
                    Icon: =Icon.VerticalLine
                    OnSelect: =Select(Parent)
                    Width: =1
                    Y: =rectangleYearSL.Y*20
                    ZIndex: =13

                iconLine2SL As icon.HorizontalLine:
                    Color: =RGBA(202, 202, 202, 1)
                    Fill: =RGBA(202, 202, 202, 1)
                    FocusedBorderThickness: =0
                    Height: =rectangleYearSL.Height/2
                    Icon: =Icon.VerticalLine
                    OnSelect: =Select(Parent)
                    Visible: =If(btnheaderSoldLeads.Text="Quoted Leads" ||"Sold Leads",true,false)
                    Width: =1
                    Y: =rectangleYearSL.Y*20
                    ZIndex: =14

                btnLeadsSL As button:
                    BorderColor: =RGBA(237, 237, 237, 1)
                    BorderThickness: =4
                    DisabledBorderColor: =RGBA(237, 237, 237, 1)
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =80
                    HoverFill: =
                    OnSelect: =Select(Parent)
                    PressedBorderColor: =Self.BorderColor
                    PressedFill: =Self.Fill
                    Text: =""
                    Width: =If(Parent.Width<378,Parent.Width/1.06,Parent.Width<500,Parent.Width/1.06,Parent.Width/1.03)
                    X: =1
                    Y: =10
                    ZIndex: =15

                imgExpandSL As image:
                    Height: =rectangleYearSL.Height/1.2
                    Image: =accordianPlus
                    OnSelect: |
                        =//UpdateContext({locInfoExpanded:true});
                        Set(Vardown,Year(ThisItem.Year));
                        Navigate(QuotedSOldLeads_1);
                    Visible: |
                        =!(ThisItem.IsSelected && locInfoExpanded)
                    Width: =Parent.Width/14
                    X: =rectangleYearSL.Width -(1.08*Self.Width)
                    Y: =(Parent.Y-Self.Height)/8
                    ZIndex: =16

                imgCollapseSL As image:
                    Height: =rectangleYearSL.Height/1.2
                    Image: =accordianMinus
                    OnSelect: |-
                        =Select(Parent); UpdateContext({locInfoExpanded:false}) ;Set(VarNavigateId,Blank());
                    Visible: |
                        =ThisItem.IsSelected && locInfoExpanded
                    Width: =Parent.Width/14
                    X: =rectangleYearSL.Width -(1.08*Self.Width)
                    Y: =(Parent.Y-Self.Height)/8
                    ZIndex: =17

            ctnSearchBarSoldLeads As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Fill: =RGBA(255, 255, 255, 1)
                Height: =If(Parent.Width>800,60,80)
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =2
                Width: =Parent.Width
                X: =10
                ZIndex: =5

                IntxtSearchBoxSoldLeads As text:
                    BorderColor: =RGBA(220, 0, 0, 1)
                    Clear: =true
                    Default: =""
                    DisabledBorderColor: =RGBA(255, 0, 0, 1)
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    Height: =If(Parent.Width>800,40,60)
                    HintText: ="Search leads by tracking number, contract number, building name, address or zip code "
                    HoverBorderColor: =RGBA(255, 0, 0, 1)
                    HoverFill: =RGBA(0, 0, 0, 0)
                    LayoutMinHeight: =70
                    LayoutMinWidth: =Self.Width
                    LineHeight: =1
                    Mode: =TextMode.MultiLine
                    OnChange: |-
                        =UpdateContext({locInfoExpanded:true});
                    OnSelect: =
                    PaddingLeft: =5
                    RadiusBottomLeft: =1
                    RadiusBottomRight: =1
                    RadiusTopLeft: =1
                    RadiusTopRight: =1
                    Reset: =true
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Width: =(ctnSearchBarSoldLeads.Width)/1.17
                    ZIndex: =1

                IconSearchSoldLeads As icon.Search:
                    BorderColor: =RGBA(220, 0, 0, 1)
                    BorderThickness: =2
                    Color: =RGBA(116, 116, 116, 1)
                    FocusedBorderThickness: =1
                    Height: =If(Parent.Width>800,40,60)
                    Icon: =Icon.Search
                    OnSelect: |-
                        =UpdateContext({locInfoExpanded:true})
                    PaddingBottom: =5
                    PaddingLeft: =5
                    PaddingRight: =5
                    PaddingTop: =5
                    Width: =(ctnSearchBarSoldLeads.Width-IntxtSearchBoxSoldLeads.Width)/1.5
                    X: =468
                    Y: =000
                    ZIndex: =2

            ctnSortBarSoldLeads As groupContainer.horizontalAutoLayoutContainer:
                DropShadow: =DropShadow.None
                Fill: =RGBA(255, 255, 255, 1)
                Height: =80
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutGap: =10
                LayoutJustifyContent: =LayoutJustifyContent.End
                LayoutMode: =LayoutMode.Auto
                PaddingLeft: =2
                Width: =Parent.Width/1.04
                X: =10
                Y: =ctnSearchBarSoldLeads.Height
                ZIndex: =6

                lblsortSoldLeads As label:
                    Align: =Align.Right
                    Color: =RGBA(116, 116, 116, 1)
                    Font: =Font.Arial
                    FontWeight: =FontWeight.Semibold
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Text: ="Sort by"
                    Width: |-
                        =//If(Parent.Width>500,Parent.Width/2.4,Parent.Width/3)
                        Parent.Width-cboxSortSoldLeads.Width-iconSortSoldLeads.Width-20
                    X: =Parent.Width-Self.Width
                    Y: =10
                    ZIndex: =1

                cboxSortSoldLeads As combobox:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    ChevronBackground: =RGBA(220, 0, 0, 1)
                    ChevronHoverBackground: =Self.ChevronBackground
                    DefaultSelectedItems: =["Created Date"]
                    DisplayFields: =["Value"]
                    FocusedBorderThickness: =2
                    Font: =Font.Arial
                    HoverFill: =RGBA(0, 0, 0, 0)
                    InputTextPlaceholder: =//"Created Date"
                    IsSearchable: =false
                    Items: |-
                        =
                        ["Created Date","Contract Number","Lead Tracking No.","Building Name","Address","Status Date"]
                    OnChange: |-
                        =UpdateContext({locInfoExpanded:true})
                    PressedColor: =RGBA(0, 0, 0, 1)
                    PressedFill: =RGBA(0, 0, 0, 0)
                    SearchFields: =["Value"]
                    SearchItems: =[]
                    SelectionColor: =RGBA(0, 0, 0, 1)
                    SelectionFill: =RGBA(237, 237, 237, 1)
                    SelectMultiple: =false
                    Size: =If(Parent.Width<378,11,Parent.Width<500,12,14)
                    Width: =180
                    ZIndex: =2

                iconSortSoldLeads As icon.ArrowsUpDown:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    Color: =RGBA(220, 0, 0, 1)
                    Height: =40
                    Icon: =If(VarDownIcon,Icon.ArrowDown,VarUpperIcon,Icon.ArrowUp)
                    OnSelect: |-
                        =If(
                           /* Icon1.Icon = Icon.Sort,
                            Set(
                                VarUpperIcon,
                                true
                            );
                                Set(VarDownIcon,false);,*/
                            iconSortSoldLeads.Icon = Icon.ArrowDown,
                            Set(
                                VarUpperIcon,
                                true
                            );
                            Set(VarDownIcon,false);,
                            iconSortSoldLeads.Icon = Icon.ArrowUp,
                            Set(
                                VarDownIcon,
                                true
                            );
                            Set(
                                VarUpperIcon,
                                false
                            );
                        );
                        UpdateContext({locInfoExpanded:true});
                    Width: =40
                    ZIndex: =3

    grpMenuSoldLeads As group:
        Height: =5
        Width: =5
        X: =40
        Y: =80
        ZIndex: =4

        ctnBackgroundMenuSoldLeads As groupContainer.manualLayoutContainer:
            Fill: =RGBA(0, 0.19, 0.19, 0.19)
            Height: =Parent.Height-ctnHeaderDS.Height
            Visible: =varshowMenu
            Width: =Parent.Width
            Y: =ctnHeaderDS.Y+ctnHeaderDS.Height
            ZIndex: =2

        "glryMenuBarSoldLeads As gallery.'BrowseLayout_Vertical_OneTextOneImageVariant_ver4.0'":
            '#CopilotOverlayLabel': ="Filtered"
            BorderColor: =RGBA(255, 255, 255, 1)
            BorderThickness: =1
            Fill: =RGBA(237, 237, 237, 1)
            Height: =1.01*(CountRows(glryMenuBarSoldLeads.AllItems)*(glryMenuBarSoldLeads.TemplateHeight))
            Items: =Menu
            Layout: =Layout.Vertical
            ShowScrollbar: =false
            TemplatePadding: =0
            TemplateSize: =90
            Visible: =varshowMenu
            Width: =Parent.Width/2.5
            Y: =ctnHeaderDS.Y+ctnHeaderDS.Height
            ZIndex: =3

            ctnMenuSoldLeads As groupContainer.manualLayoutContainer:
                DropShadow: =DropShadow.ExtraBold
                Fill: =RGBA(255, 255, 255, 1)
                Height: =80
                Width: =Parent.Width/1.02
                ZIndex: =8

                lblMenuSoldLeads As label:
                    AutoHeight: =true
                    Color: =AllScreensCSS.RColorBlack
                    Height: =24
                    PaddingBottom: =0
                    PaddingLeft: =0
                    PaddingRight: =0
                    PaddingTop: =0
                    Size: =If(Parent.Width<500,10,12)
                    Text: =ThisItem.Title
                    Width: =Parent.Width-iconMenuSoldLeads.Width-lineIndicatorSoldLeads.Width
                    X: =iconMenuSoldLeads.Width+iconMenuSoldLeads.X+10
                    Y: =25
                    ZIndex: =1

                iconMenuSoldLeads As icon.Add:
                    Color: =AllScreensCSS.RColorBlack
                    Height: =Parent.Height/4.5
                    Icon: =ThisItem.icon
                    Width: =Parent.Width/4.5
                    X: =15
                    Y: =25
                    ZIndex: =3

                btnMenuSoldLeads As button:
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =80
                    HoverFill: =
                    OnSelect: |+
                        =Set(varshowMenu,!varshowMenu);Navigate(ThisItem.Navigate);
                        
                    PressedFill: =
                    Size: =24
                    Text: =""
                    Width: =Parent.Width
                    ZIndex: =4

                lineIndicatorSoldLeads As rectangle:
                    BorderColor: =RGBA(255, 0, 0, 1)
                    BorderThickness: =5
                    Fill: =RGBA(255, 0, 0, 1)
                    Height: =Parent.Height
                    Visible: =If(ThisItem.Navigate=DashboardScreen,true,false)
                    Width: =4
                    X: =1
                    ZIndex: =5

